[INFO] [2023-03-08 01:55:40,636] [202303080155356140690] [960047:140419357169472] - [base_worker.run] [line:98]: enter TaskExecutor worker in subprocess, pid: 960047
[INFO] [2023-03-08 01:55:40,636] [202303080155356140690] [960047:140419357169472] - [base_worker.run] [line:101]: log level: INFO
[INFO] [2023-03-08 01:55:40,636] [202303080155356140690] [960047:140419357169472] - [base_worker.run] [line:103]: PYTHONPATH: /data/projects/spark-3.1.3-bin-hadoop3.2//python/lib/pyspark.zip:/data/projects/spark-3.1.3-bin-hadoop3.2//python/lib/py4j-0.10.9-src.zip:/data/projects/spark-3.1.3-bin-hadoop3.2/jars/spark-core_2.12-3.1.3.jar:/data/projects/fate/fateflow/python:$PYTHONPATH:/data/projects/fate/fate/python:/data/projects/fate/eggroll/python:/data/projects/fate/fateflow/python:/data/projects/fate/fate/python/fate_client
[INFO] [2023-03-08 01:55:40,637] [202303080155356140690] [960047:140419357169472] - [base_worker.run] [line:103]: SPARK_HOME: /data/projects/spark-3.1.3-bin-hadoop3.2/
[INFO] [2023-03-08 01:55:40,637] [202303080155356140690] [960047:140419357169472] - [base_worker.run] [line:103]: VIRTUAL_ENV: /data/projects/python/venv
[INFO] [2023-03-08 01:55:40,637] [202303080155356140690] [960047:140419357169472] - [base_worker.run] [line:103]: FATE_JOB_ID: 202303080155356140690
[INFO] [2023-03-08 01:55:40,637] [202303080155356140690] [960047:140419357169472] - [base_worker.run] [line:103]: PROCESS_ROLE: worker
[INFO] [2023-03-08 01:55:40,637] [202303080155356140690] [960047:140419357169472] - [base_worker.run] [line:103]: FATE_DEPLOY_BASE: None
[WARNING] [2023-03-08 01:55:40,652] [202303080155356140690] [960047:140419357169472] - [job_default_config.load] [line:61]: job default config not supported upload_max_bytes
[INFO] [2023-03-08 01:55:40,938] [202303080155356140690] [960047:140419357169472] - [resource_manager.register_engine] [line:64]: update federation engine STANDALONE fate_on_standalone registration information
[INFO] [2023-03-08 01:55:40,944] [202303080155356140690] [960047:140419357169472] - [resource_manager.register_engine] [line:64]: update federation engine EGGROLL fate_on_eggroll registration information
[INFO] [2023-03-08 01:55:40,949] [202303080155356140690] [960047:140419357169472] - [resource_manager.register_engine] [line:64]: update federation engine RABBITMQ fate_on_spark registration information
[INFO] [2023-03-08 01:55:40,954] [202303080155356140690] [960047:140419357169472] - [resource_manager.register_engine] [line:64]: update federation engine PULSAR fate_on_spark registration information
[INFO] [2023-03-08 01:55:40,959] [202303080155356140690] [960047:140419357169472] - [resource_manager.register_engine] [line:64]: update computing engine STANDALONE fate_on_standalone registration information
[INFO] [2023-03-08 01:55:40,965] [202303080155356140690] [960047:140419357169472] - [resource_manager.register_engine] [line:64]: update computing engine EGGROLL fate_on_eggroll registration information
[INFO] [2023-03-08 01:55:40,971] [202303080155356140690] [960047:140419357169472] - [resource_manager.register_engine] [line:64]: update computing engine SPARK fate_on_spark registration information
[INFO] [2023-03-08 01:55:40,976] [202303080155356140690] [960047:140419357169472] - [resource_manager.register_engine] [line:64]: update computing engine LINKIS_SPARK fate_on_spark registration information
[INFO] [2023-03-08 01:55:40,981] [202303080155356140690] [960047:140419357169472] - [resource_manager.register_engine] [line:64]: update storage engine STANDALONE fate_on_standalone registration information
[INFO] [2023-03-08 01:55:40,989] [202303080155356140690] [960047:140419357169472] - [resource_manager.register_engine] [line:64]: update storage engine EGGROLL fate_on_eggroll registration information
[INFO] [2023-03-08 01:55:40,996] [202303080155356140690] [960047:140419357169472] - [resource_manager.register_engine] [line:64]: update storage engine HDFS fate_on_spark registration information
[INFO] [2023-03-08 01:55:41,001] [202303080155356140690] [960047:140419357169472] - [resource_manager.register_engine] [line:64]: update storage engine HIVE fate_on_spark registration information
[INFO] [2023-03-08 01:55:41,006] [202303080155356140690] [960047:140419357169472] - [resource_manager.register_engine] [line:64]: update storage engine LINKIS_HIVE fate_on_spark registration information
[INFO] [2023-03-08 01:55:41,006] [202303080155356140690] [960047:140419357169472] - [task_executor._run_] [line:56]: run reader_0 202303080155356140690_reader_0 0 on guest 9999 task
[INFO] [2023-03-08 01:55:41,382] [202303080155356140690] [960047:140419357169472] - [task_executor._run_] [line:82]: user name:
[INFO] [2023-03-08 01:55:41,382] [202303080155356140690] [960047:140419357169472] - [task_base_worker.report_task_info_to_driver] [line:113]: report TaskExecutor 202303080155356140690_reader_0 0 guest 9999 to driver:
{'job_id': '202303080155356140690', 'component_name': 'reader_0', 'task_id': '202303080155356140690_reader_0', 'task_version': '0', 'role': 'guest', 'party_id': '9999', 'run_ip': '10.244.0.20', 'run_pid': 960047, 'run_port': '9380', 'party_status': 'running'}
[INFO] [2023-03-08 01:55:41,382] [202303080155356140690] [960047:140419357169472] - [control_client.report_task] [line:39]: request update job 202303080155356140690 task 202303080155356140690_reader_0 0 on guest 9999
[INFO] [2023-03-08 01:55:41,414] [202303080155356140690] [960047:140419357169472] - [task_executor._run_] [line:124]: previous_components_parameters:
{}
[INFO] [2023-03-08 01:55:41,479] [202303080155356140690] [960047:140419357169472] - [task_executor._run_] [line:131]: component parameters on party:
{
    "dsl_version": 2,
    "initiator": {
        "role": "guest",
        "party_id": 9999
    },
    "role": {
        "guest": [
            9999
        ],
        "host": [
            10000
        ]
    },
    "job_parameters": {
        "common": {
            "job_type": "train",
            "inheritance_info": {},
            "computing_engine": "SPARK",
            "engines_address": {},
            "federated_mode": "MULTIPLE",
            "task_parallelism": 1,
            "computing_partitions": 4,
            "federated_status_collect_type": "PUSH",
            "model_id": "arbiter-10000#guest-9999#host-10000#model",
            "model_version": "202303080155356140690",
            "auto_retries": 5,
            "auto_retry_delay": 60,
            "eggroll_run": {},
            "spark_run": {},
            "rabbitmq_run": {},
            "pulsar_run": {},
            "adaptation_parameters": {
                "task_nodes": 2,
                "task_cores_per_node": 2,
                "task_memory_per_node": 0,
                "request_task_cores": 4,
                "if_initiator_baseline": true
            }
        }
    },
    "local": {
        "role": "guest",
        "party_id": 9999
    },
    "module": "Reader",
    "CodePath": "Reader",
    "ComponentParam": {
        "table": {
            "name": "cifar10",
            "namespace": "experiment"
        },
        "_name": "Reader#reader_0"
    },
    "ComponentParameterSource": "reader_0"
}
[INFO] [2023-03-08 01:55:41,516] [202303080155356140690] [960047:140419357169472] - [_session.__init__] [line:54]: using engines: {'computing': 'SPARK', 'federation': 'PULSAR', 'storage': 'HDFS', 'federated_mode': 'MULTIPLE'}
[INFO] [2023-03-08 01:55:41,516] [202303080155356140690] [960047:140419357169472] - [_session.__init__] [line:70]: create manager session 202303080155356140690_reader_0_0_guest_9999
[INFO] [2023-03-08 01:55:41,517] [202303080155356140690] [960047:140419357169472] - [db_models.init_database_tables] [line:85]: start create table SessionRecord
[INFO] [2023-03-08 01:55:41,519] [202303080155356140690] [960047:140419357169472] - [db_models.init_database_tables] [line:88]: create table success: SessionRecord
[INFO] [2023-03-08 01:55:41,519] [202303080155356140690] [960047:140419357169472] - [db_models.init_database_tables] [line:85]: start create table StorageConnectorModel
[INFO] [2023-03-08 01:55:41,520] [202303080155356140690] [960047:140419357169472] - [db_models.init_database_tables] [line:88]: create table success: StorageConnectorModel
[INFO] [2023-03-08 01:55:41,520] [202303080155356140690] [960047:140419357169472] - [db_models.init_database_tables] [line:85]: start create table StorageTableMetaModel
[INFO] [2023-03-08 01:55:41,521] [202303080155356140690] [960047:140419357169472] - [db_models.init_database_tables] [line:88]: create table success: StorageTableMetaModel
[INFO] [2023-03-08 01:55:41,521] [202303080155356140690] [960047:140419357169472] - [_session.save_record] [line:343]: try to save session record for manager 202303080155356140690_reader_0_0_guest_9999, computing SPARK 202303080155356140690_reader_0_0_guest_9999
[INFO] [2023-03-08 01:55:41,525] [202303080155356140690] [960047:140419357169472] - [_session.save_record] [line:363]: save session record for manager 202303080155356140690_reader_0_0_guest_9999, computing SPARK 202303080155356140690_reader_0_0_guest_9999 successfully
[INFO] [2023-03-08 01:55:42,138] [202303080155356140690] [960047:140419357169472] - [_session.save_record] [line:343]: try to save session record for manager 202303080155356140690_reader_0_0_guest_9999, federation PULSAR 202303080155356140690_reader_0_0
[INFO] [2023-03-08 01:55:42,143] [202303080155356140690] [960047:140419357169472] - [_session.save_record] [line:363]: save session record for manager 202303080155356140690_reader_0_0_guest_9999, federation PULSAR 202303080155356140690_reader_0_0 successfully
[INFO] [2023-03-08 01:55:42,355] [202303080155356140690] [960047:140419357169472] - [task_executor._run_] [line:157]: run reader_0 202303080155356140690_reader_0 0 on guest 9999 task
[INFO] [2023-03-08 01:55:42,355] [202303080155356140690] [960047:140419357169472] - [task_executor._run_] [line:158]: component parameters on party:
{
    "dsl_version": 2,
    "initiator": {
        "role": "guest",
        "party_id": 9999
    },
    "role": {
        "guest": [
            9999
        ],
        "host": [
            10000
        ]
    },
    "job_parameters": {
        "job_type": "train",
        "inheritance_info": {},
        "computing_engine": "SPARK",
        "federation_engine": "PULSAR",
        "storage_engine": "HDFS",
        "engines_address": {
            "computing": {
                "home": "/data/projects/spark-3.1.3-bin-hadoop3.2/",
                "cores_per_node": 20,
                "nodes": 2
            },
            "federation": {
                "host": "pulsar",
                "port": 6650,
                "mng_port": 8080,
                "topic_ttl": 3,
                "cluster": "standalone",
                "tenant": "fl-tenant",
                "route_table": "conf/pulsar_route_table/pulsar_route_table.yaml",
                "mode": "replication",
                "max_message_size": 1048576
            },
            "storage": {
                "name_node": "hdfs://namenode:9000",
                "path_prefix": null
            }
        },
        "federated_mode": "MULTIPLE",
        "task_parallelism": 1,
        "computing_partitions": 4,
        "federated_status_collect_type": "PUSH",
        "model_id": "arbiter-10000#guest-9999#host-10000#model",
        "model_version": "202303080155356140690",
        "auto_retries": 5,
        "auto_retry_delay": 60,
        "eggroll_run": {},
        "spark_run": {
            "num-executors": 2,
            "executor-cores": 2
        },
        "rabbitmq_run": {},
        "pulsar_run": {},
        "adaptation_parameters": {
            "task_nodes": 2,
            "task_cores_per_node": 2,
            "task_memory_per_node": 0,
            "request_task_cores": 4,
            "if_initiator_baseline": false
        }
    },
    "local": {
        "role": "guest",
        "party_id": 9999
    },
    "module": "Reader",
    "CodePath": "Reader",
    "ComponentParam": {
        "table": {
            "name": "cifar10",
            "namespace": "experiment"
        },
        "_name": "Reader#reader_0"
    },
    "ComponentParameterSource": "reader_0"
}
[INFO] [2023-03-08 01:55:42,356] [202303080155356140690] [960047:140419357169472] - [task_executor._run_] [line:159]: task input dsl {}
[INFO] [2023-03-08 01:55:42,356] [202303080155356140690] [960047:140419357169472] - [task_executor._run_] [line:208]: profile logging is disabled
[INFO] [2023-03-08 01:55:42,366] [202303080155356140690] [960047:140419357169472] - [_session.save_record] [line:343]: try to save session record for manager 202303080155356140690_reader_0_0_guest_9999, storage PATH 202303080155356140690_reader_0_0_guest_9999_storage_55425832-bd54-11ed-a2cf-f2da40b0f03a
[INFO] [2023-03-08 01:55:42,371] [202303080155356140690] [960047:140419357169472] - [_session.save_record] [line:363]: save session record for manager 202303080155356140690_reader_0_0_guest_9999, storage PATH 202303080155356140690_reader_0_0_guest_9999_storage_55425832-bd54-11ed-a2cf-f2da40b0f03a successfully
[INFO] [2023-03-08 01:55:42,418] [202303080155356140690] [960047:140419357169472] - [reader._run] [line:106]: the PATH input table needs to be transform format
[INFO] [2023-03-08 01:55:42,418] [202303080155356140690] [960047:140419357169472] - [reader._run] [line:109]: reader create storage session2
[INFO] [2023-03-08 01:55:42,423] [202303080155356140690] [960047:140419357169472] - [reader.save_table] [line:205]: start copying table
[INFO] [2023-03-08 01:55:42,423] [202303080155356140690] [960047:140419357169472] - [reader.save_table] [line:206]: source table name: cifar10 namespace: experiment engine: PATH
[INFO] [2023-03-08 01:55:42,424] [202303080155356140690] [960047:140419357169472] - [reader.save_table] [line:209]: destination table name: 5541a874bd5411eda2cff2da40b0f03a namespace: output_data_202303080155356140690_reader_0_0 engine: PATH
[INFO] [2023-03-08 01:55:42,426] [202303080155356140690] [960047:140419357169472] - [reader.to_save] [line:239]: dest schema: {}
[INFO] [2023-03-08 01:55:42,431] [202303080155356140690] [960047:140419357169472] - [reader.to_save] [line:246]: save output_data_202303080155356140690_reader_0_0 5541a874bd5411eda2cff2da40b0f03a success
[INFO] [2023-03-08 01:55:42,433] [202303080155356140690] [960047:140419357169472] - [tracker_client.log_output_data_info] [line:234]: Request save job 202303080155356140690 task 202303080155356140690_reader_0 0 on guest 9999 data data info
[INFO] [2023-03-08 01:55:42,547] [202303080155356140690] [960047:140419357169472] - [tracker_client.set_metric_meta_common] [line:103]: Request save job 202303080155356140690 task 202303080155356140690_reader_0 0 on guest 9999 metric reader_namespace reader_name meta
[INFO] [2023-03-08 01:55:42,558] [202303080155356140690] [960047:140419357169472] - [_session.wait_remote_all_done] [line:494]: remote futures: set(), waiting...
[INFO] [2023-03-08 01:55:42,558] [202303080155356140690] [960047:140419357169472] - [_session.wait_remote_all_done] [line:496]: remote futures: set(), all done
[INFO] [2023-03-08 01:55:42,558] [202303080155356140690] [960047:140419357169472] - [task_executor._run_] [line:212]: task output dsl {'data': ['data']}
[INFO] [2023-03-08 01:55:42,558] [202303080155356140690] [960047:140419357169472] - [task_executor._run_] [line:213]: task output data [None]
[INFO] [2023-03-08 01:55:42,559] [202303080155356140690] [960047:140419357169472] - [task_base_worker.report_task_info_to_driver] [line:113]: report TaskExecutor 202303080155356140690_reader_0 0 guest 9999 to driver:
{'job_id': '202303080155356140690', 'component_name': 'reader_0', 'task_id': '202303080155356140690_reader_0', 'task_version': '0', 'role': 'guest', 'party_id': '9999', 'run_ip': '10.244.0.20', 'run_pid': 960047, 'run_port': '9380', 'party_status': 'success', 'end_time': 1678240542559, 'elapsed': 1553}
[INFO] [2023-03-08 01:55:42,559] [202303080155356140690] [960047:140419357169472] - [control_client.report_task] [line:39]: request update job 202303080155356140690 task 202303080155356140690_reader_0 0 on guest 9999
[INFO] [2023-03-08 01:55:42,580] [202303080155356140690] [960047:140419357169472] - [task_executor._run_] [line:282]: finish reader_0 202303080155356140690_reader_0 0 on guest 9999 with success
[INFO] [2023-03-08 01:55:42,581] [202303080155356140690] [960047:140419357169472] - [base_worker.run] [line:125]: worker TaskExecutor, process role: ProcessRole.WORKER, pid: 960047, elapsed: 1948 ms
[INFO] [2023-03-08 01:55:46,038] [202303080155356140690] [960152:140208850614080] - [base_worker.run] [line:98]: enter TaskExecutor worker in subprocess, pid: 960152
[INFO] [2023-03-08 01:55:46,039] [202303080155356140690] [960152:140208850614080] - [base_worker.run] [line:101]: log level: INFO
[INFO] [2023-03-08 01:55:46,039] [202303080155356140690] [960152:140208850614080] - [base_worker.run] [line:103]: PYTHONPATH: /data/projects/spark-3.1.3-bin-hadoop3.2//python/lib/pyspark.zip:/data/projects/spark-3.1.3-bin-hadoop3.2//python/lib/py4j-0.10.9-src.zip:/data/projects/spark-3.1.3-bin-hadoop3.2/jars/spark-core_2.12-3.1.3.jar:/data/projects/fate/fateflow/python:$PYTHONPATH:/data/projects/fate/fate/python:/data/projects/fate/eggroll/python:/data/projects/fate/fateflow/python:/data/projects/fate/fate/python/fate_client
[INFO] [2023-03-08 01:55:46,039] [202303080155356140690] [960152:140208850614080] - [base_worker.run] [line:103]: SPARK_HOME: /data/projects/spark-3.1.3-bin-hadoop3.2/
[INFO] [2023-03-08 01:55:46,039] [202303080155356140690] [960152:140208850614080] - [base_worker.run] [line:103]: VIRTUAL_ENV: /data/projects/python/venv
[INFO] [2023-03-08 01:55:46,039] [202303080155356140690] [960152:140208850614080] - [base_worker.run] [line:103]: FATE_JOB_ID: 202303080155356140690
[INFO] [2023-03-08 01:55:46,039] [202303080155356140690] [960152:140208850614080] - [base_worker.run] [line:103]: PROCESS_ROLE: worker
[INFO] [2023-03-08 01:55:46,039] [202303080155356140690] [960152:140208850614080] - [base_worker.run] [line:103]: FATE_DEPLOY_BASE: None
[WARNING] [2023-03-08 01:55:46,054] [202303080155356140690] [960152:140208850614080] - [job_default_config.load] [line:61]: job default config not supported upload_max_bytes
[INFO] [2023-03-08 01:55:46,351] [202303080155356140690] [960152:140208850614080] - [resource_manager.register_engine] [line:64]: update federation engine STANDALONE fate_on_standalone registration information
[INFO] [2023-03-08 01:55:46,357] [202303080155356140690] [960152:140208850614080] - [resource_manager.register_engine] [line:64]: update federation engine EGGROLL fate_on_eggroll registration information
[INFO] [2023-03-08 01:55:46,363] [202303080155356140690] [960152:140208850614080] - [resource_manager.register_engine] [line:64]: update federation engine RABBITMQ fate_on_spark registration information
[INFO] [2023-03-08 01:55:46,369] [202303080155356140690] [960152:140208850614080] - [resource_manager.register_engine] [line:64]: update federation engine PULSAR fate_on_spark registration information
[INFO] [2023-03-08 01:55:46,375] [202303080155356140690] [960152:140208850614080] - [resource_manager.register_engine] [line:64]: update computing engine STANDALONE fate_on_standalone registration information
[INFO] [2023-03-08 01:55:46,382] [202303080155356140690] [960152:140208850614080] - [resource_manager.register_engine] [line:64]: update computing engine EGGROLL fate_on_eggroll registration information
[INFO] [2023-03-08 01:55:46,387] [202303080155356140690] [960152:140208850614080] - [resource_manager.register_engine] [line:64]: update computing engine SPARK fate_on_spark registration information
[INFO] [2023-03-08 01:55:46,392] [202303080155356140690] [960152:140208850614080] - [resource_manager.register_engine] [line:64]: update computing engine LINKIS_SPARK fate_on_spark registration information
[INFO] [2023-03-08 01:55:46,398] [202303080155356140690] [960152:140208850614080] - [resource_manager.register_engine] [line:64]: update storage engine STANDALONE fate_on_standalone registration information
[INFO] [2023-03-08 01:55:46,405] [202303080155356140690] [960152:140208850614080] - [resource_manager.register_engine] [line:64]: update storage engine EGGROLL fate_on_eggroll registration information
[INFO] [2023-03-08 01:55:46,411] [202303080155356140690] [960152:140208850614080] - [resource_manager.register_engine] [line:64]: update storage engine HDFS fate_on_spark registration information
[INFO] [2023-03-08 01:55:46,418] [202303080155356140690] [960152:140208850614080] - [resource_manager.register_engine] [line:64]: update storage engine HIVE fate_on_spark registration information
[INFO] [2023-03-08 01:55:46,423] [202303080155356140690] [960152:140208850614080] - [resource_manager.register_engine] [line:64]: update storage engine LINKIS_HIVE fate_on_spark registration information
[INFO] [2023-03-08 01:55:46,423] [202303080155356140690] [960152:140208850614080] - [task_executor._run_] [line:56]: run reader_1 202303080155356140690_reader_1 0 on guest 9999 task
[INFO] [2023-03-08 01:55:46,645] [202303080155356140690] [960152:140208850614080] - [task_executor._run_] [line:82]: user name:
[INFO] [2023-03-08 01:55:46,646] [202303080155356140690] [960152:140208850614080] - [task_base_worker.report_task_info_to_driver] [line:113]: report TaskExecutor 202303080155356140690_reader_1 0 guest 9999 to driver:
{'job_id': '202303080155356140690', 'component_name': 'reader_1', 'task_id': '202303080155356140690_reader_1', 'task_version': '0', 'role': 'guest', 'party_id': '9999', 'run_ip': '10.244.0.20', 'run_pid': 960152, 'run_port': '9380', 'party_status': 'running'}
[INFO] [2023-03-08 01:55:46,646] [202303080155356140690] [960152:140208850614080] - [control_client.report_task] [line:39]: request update job 202303080155356140690 task 202303080155356140690_reader_1 0 on guest 9999
[INFO] [2023-03-08 01:55:46,669] [202303080155356140690] [960152:140208850614080] - [task_executor._run_] [line:124]: previous_components_parameters:
{}
[INFO] [2023-03-08 01:55:46,724] [202303080155356140690] [960152:140208850614080] - [task_executor._run_] [line:131]: component parameters on party:
{
    "dsl_version": 2,
    "initiator": {
        "role": "guest",
        "party_id": 9999
    },
    "role": {
        "guest": [
            9999
        ],
        "host": [
            10000
        ]
    },
    "job_parameters": {
        "common": {
            "job_type": "train",
            "inheritance_info": {},
            "computing_engine": "SPARK",
            "engines_address": {},
            "federated_mode": "MULTIPLE",
            "task_parallelism": 1,
            "computing_partitions": 4,
            "federated_status_collect_type": "PUSH",
            "model_id": "arbiter-10000#guest-9999#host-10000#model",
            "model_version": "202303080155356140690",
            "auto_retries": 5,
            "auto_retry_delay": 60,
            "eggroll_run": {},
            "spark_run": {},
            "rabbitmq_run": {},
            "pulsar_run": {},
            "adaptation_parameters": {
                "task_nodes": 2,
                "task_cores_per_node": 2,
                "task_memory_per_node": 0,
                "request_task_cores": 4,
                "if_initiator_baseline": true
            }
        }
    },
    "local": {
        "role": "guest",
        "party_id": 9999
    },
    "module": "Reader",
    "CodePath": "Reader",
    "ComponentParam": {
        "table": {
            "name": "cifar10",
            "namespace": "experiment"
        },
        "_name": "Reader#reader_1"
    },
    "ComponentParameterSource": "reader_1"
}
[INFO] [2023-03-08 01:55:46,761] [202303080155356140690] [960152:140208850614080] - [_session.__init__] [line:54]: using engines: {'computing': 'SPARK', 'federation': 'PULSAR', 'storage': 'HDFS', 'federated_mode': 'MULTIPLE'}
[INFO] [2023-03-08 01:55:46,761] [202303080155356140690] [960152:140208850614080] - [_session.__init__] [line:70]: create manager session 202303080155356140690_reader_1_0_guest_9999
[INFO] [2023-03-08 01:55:46,762] [202303080155356140690] [960152:140208850614080] - [db_models.init_database_tables] [line:85]: start create table SessionRecord
[INFO] [2023-03-08 01:55:46,763] [202303080155356140690] [960152:140208850614080] - [db_models.init_database_tables] [line:88]: create table success: SessionRecord
[INFO] [2023-03-08 01:55:46,763] [202303080155356140690] [960152:140208850614080] - [db_models.init_database_tables] [line:85]: start create table StorageConnectorModel
[INFO] [2023-03-08 01:55:46,765] [202303080155356140690] [960152:140208850614080] - [db_models.init_database_tables] [line:88]: create table success: StorageConnectorModel
[INFO] [2023-03-08 01:55:46,765] [202303080155356140690] [960152:140208850614080] - [db_models.init_database_tables] [line:85]: start create table StorageTableMetaModel
[INFO] [2023-03-08 01:55:46,766] [202303080155356140690] [960152:140208850614080] - [db_models.init_database_tables] [line:88]: create table success: StorageTableMetaModel
[INFO] [2023-03-08 01:55:46,766] [202303080155356140690] [960152:140208850614080] - [_session.save_record] [line:343]: try to save session record for manager 202303080155356140690_reader_1_0_guest_9999, computing SPARK 202303080155356140690_reader_1_0_guest_9999
[INFO] [2023-03-08 01:55:46,770] [202303080155356140690] [960152:140208850614080] - [_session.save_record] [line:363]: save session record for manager 202303080155356140690_reader_1_0_guest_9999, computing SPARK 202303080155356140690_reader_1_0_guest_9999 successfully
[INFO] [2023-03-08 01:55:47,419] [202303080155356140690] [960152:140208850614080] - [_session.save_record] [line:343]: try to save session record for manager 202303080155356140690_reader_1_0_guest_9999, federation PULSAR 202303080155356140690_reader_1_0
[INFO] [2023-03-08 01:55:47,423] [202303080155356140690] [960152:140208850614080] - [_session.save_record] [line:363]: save session record for manager 202303080155356140690_reader_1_0_guest_9999, federation PULSAR 202303080155356140690_reader_1_0 successfully
[INFO] [2023-03-08 01:55:47,630] [202303080155356140690] [960152:140208850614080] - [task_executor._run_] [line:157]: run reader_1 202303080155356140690_reader_1 0 on guest 9999 task
[INFO] [2023-03-08 01:55:47,631] [202303080155356140690] [960152:140208850614080] - [task_executor._run_] [line:158]: component parameters on party:
{
    "dsl_version": 2,
    "initiator": {
        "role": "guest",
        "party_id": 9999
    },
    "role": {
        "guest": [
            9999
        ],
        "host": [
            10000
        ]
    },
    "job_parameters": {
        "job_type": "train",
        "inheritance_info": {},
        "computing_engine": "SPARK",
        "federation_engine": "PULSAR",
        "storage_engine": "HDFS",
        "engines_address": {
            "computing": {
                "home": "/data/projects/spark-3.1.3-bin-hadoop3.2/",
                "cores_per_node": 20,
                "nodes": 2
            },
            "federation": {
                "host": "pulsar",
                "port": 6650,
                "mng_port": 8080,
                "topic_ttl": 3,
                "cluster": "standalone",
                "tenant": "fl-tenant",
                "route_table": "conf/pulsar_route_table/pulsar_route_table.yaml",
                "mode": "replication",
                "max_message_size": 1048576
            },
            "storage": {
                "name_node": "hdfs://namenode:9000",
                "path_prefix": null
            }
        },
        "federated_mode": "MULTIPLE",
        "task_parallelism": 1,
        "computing_partitions": 4,
        "federated_status_collect_type": "PUSH",
        "model_id": "arbiter-10000#guest-9999#host-10000#model",
        "model_version": "202303080155356140690",
        "auto_retries": 5,
        "auto_retry_delay": 60,
        "eggroll_run": {},
        "spark_run": {
            "num-executors": 2,
            "executor-cores": 2
        },
        "rabbitmq_run": {},
        "pulsar_run": {},
        "adaptation_parameters": {
            "task_nodes": 2,
            "task_cores_per_node": 2,
            "task_memory_per_node": 0,
            "request_task_cores": 4,
            "if_initiator_baseline": false
        }
    },
    "local": {
        "role": "guest",
        "party_id": 9999
    },
    "module": "Reader",
    "CodePath": "Reader",
    "ComponentParam": {
        "table": {
            "name": "cifar10",
            "namespace": "experiment"
        },
        "_name": "Reader#reader_1"
    },
    "ComponentParameterSource": "reader_1"
}
[INFO] [2023-03-08 01:55:47,631] [202303080155356140690] [960152:140208850614080] - [task_executor._run_] [line:159]: task input dsl {}
[INFO] [2023-03-08 01:55:47,631] [202303080155356140690] [960152:140208850614080] - [task_executor._run_] [line:208]: profile logging is disabled
[INFO] [2023-03-08 01:55:47,642] [202303080155356140690] [960152:140208850614080] - [_session.save_record] [line:343]: try to save session record for manager 202303080155356140690_reader_1_0_guest_9999, storage PATH 202303080155356140690_reader_1_0_guest_9999_storage_586744dc-bd54-11ed-a902-f2da40b0f03a
[INFO] [2023-03-08 01:55:47,645] [202303080155356140690] [960152:140208850614080] - [_session.save_record] [line:363]: save session record for manager 202303080155356140690_reader_1_0_guest_9999, storage PATH 202303080155356140690_reader_1_0_guest_9999_storage_586744dc-bd54-11ed-a902-f2da40b0f03a successfully
[INFO] [2023-03-08 01:55:47,688] [202303080155356140690] [960152:140208850614080] - [reader._run] [line:106]: the PATH input table needs to be transform format
[INFO] [2023-03-08 01:55:47,688] [202303080155356140690] [960152:140208850614080] - [reader._run] [line:109]: reader create storage session2
[INFO] [2023-03-08 01:55:47,692] [202303080155356140690] [960152:140208850614080] - [reader.save_table] [line:205]: start copying table
[INFO] [2023-03-08 01:55:47,692] [202303080155356140690] [960152:140208850614080] - [reader.save_table] [line:206]: source table name: cifar10 namespace: experiment engine: PATH
[INFO] [2023-03-08 01:55:47,692] [202303080155356140690] [960152:140208850614080] - [reader.save_table] [line:209]: destination table name: 586691ccbd5411eda902f2da40b0f03a namespace: output_data_202303080155356140690_reader_1_0 engine: PATH
[INFO] [2023-03-08 01:55:47,694] [202303080155356140690] [960152:140208850614080] - [reader.to_save] [line:239]: dest schema: {}
[INFO] [2023-03-08 01:55:47,699] [202303080155356140690] [960152:140208850614080] - [reader.to_save] [line:246]: save output_data_202303080155356140690_reader_1_0 586691ccbd5411eda902f2da40b0f03a success
[INFO] [2023-03-08 01:55:47,701] [202303080155356140690] [960152:140208850614080] - [tracker_client.log_output_data_info] [line:234]: Request save job 202303080155356140690 task 202303080155356140690_reader_1 0 on guest 9999 data data info
[INFO] [2023-03-08 01:55:47,716] [202303080155356140690] [960152:140208850614080] - [tracker_client.set_metric_meta_common] [line:103]: Request save job 202303080155356140690 task 202303080155356140690_reader_1 0 on guest 9999 metric reader_namespace reader_name meta
[INFO] [2023-03-08 01:55:47,727] [202303080155356140690] [960152:140208850614080] - [_session.wait_remote_all_done] [line:494]: remote futures: set(), waiting...
[INFO] [2023-03-08 01:55:47,727] [202303080155356140690] [960152:140208850614080] - [_session.wait_remote_all_done] [line:496]: remote futures: set(), all done
[INFO] [2023-03-08 01:55:47,727] [202303080155356140690] [960152:140208850614080] - [task_executor._run_] [line:212]: task output dsl {'data': ['data']}
[INFO] [2023-03-08 01:55:47,727] [202303080155356140690] [960152:140208850614080] - [task_executor._run_] [line:213]: task output data [None]
[INFO] [2023-03-08 01:55:47,727] [202303080155356140690] [960152:140208850614080] - [task_base_worker.report_task_info_to_driver] [line:113]: report TaskExecutor 202303080155356140690_reader_1 0 guest 9999 to driver:
{'job_id': '202303080155356140690', 'component_name': 'reader_1', 'task_id': '202303080155356140690_reader_1', 'task_version': '0', 'role': 'guest', 'party_id': '9999', 'run_ip': '10.244.0.20', 'run_pid': 960152, 'run_port': '9380', 'party_status': 'success', 'end_time': 1678240547727, 'elapsed': 1304}
[INFO] [2023-03-08 01:55:47,727] [202303080155356140690] [960152:140208850614080] - [control_client.report_task] [line:39]: request update job 202303080155356140690 task 202303080155356140690_reader_1 0 on guest 9999
[INFO] [2023-03-08 01:55:47,750] [202303080155356140690] [960152:140208850614080] - [task_executor._run_] [line:282]: finish reader_1 202303080155356140690_reader_1 0 on guest 9999 with success
[INFO] [2023-03-08 01:55:47,751] [202303080155356140690] [960152:140208850614080] - [base_worker.run] [line:125]: worker TaskExecutor, process role: ProcessRole.WORKER, pid: 960152, elapsed: 1715 ms
[INFO] [2023-03-08 01:55:52,675] [202303080155356140690] [960258:140612159231808] - [base_worker.run] [line:98]: enter TaskExecutor worker in subprocess, pid: 960258
[INFO] [2023-03-08 01:55:52,675] [202303080155356140690] [960258:140612159231808] - [base_worker.run] [line:101]: log level: INFO
[INFO] [2023-03-08 01:55:52,675] [202303080155356140690] [960258:140612159231808] - [base_worker.run] [line:103]: PYTHONPATH: /data/projects/spark-3.1.3-bin-hadoop3.2//python/lib/pyspark.zip:/data/projects/spark-3.1.3-bin-hadoop3.2//python/lib/py4j-0.10.9-src.zip:/data/projects/spark-3.1.3-bin-hadoop3.2/jars/spark-core_2.12-3.1.3.jar:/data/projects/fate/fate/python:$PYTHONPATH:/data/projects/fate/fate/python:/data/projects/fate/eggroll/python:/data/projects/fate/fateflow/python:/data/projects/fate/fate/python/fate_client
[INFO] [2023-03-08 01:55:52,675] [202303080155356140690] [960258:140612159231808] - [base_worker.run] [line:103]: SPARK_HOME: /data/projects/spark-3.1.3-bin-hadoop3.2/
[INFO] [2023-03-08 01:55:52,675] [202303080155356140690] [960258:140612159231808] - [base_worker.run] [line:103]: VIRTUAL_ENV: /data/projects/python/venv
[INFO] [2023-03-08 01:55:52,675] [202303080155356140690] [960258:140612159231808] - [base_worker.run] [line:103]: FATE_JOB_ID: 202303080155356140690
[INFO] [2023-03-08 01:55:52,675] [202303080155356140690] [960258:140612159231808] - [base_worker.run] [line:103]: PROCESS_ROLE: worker
[INFO] [2023-03-08 01:55:52,676] [202303080155356140690] [960258:140612159231808] - [base_worker.run] [line:103]: FATE_DEPLOY_BASE: None
[WARNING] [2023-03-08 01:55:52,690] [202303080155356140690] [960258:140612159231808] - [job_default_config.load] [line:61]: job default config not supported upload_max_bytes
[INFO] [2023-03-08 01:55:52,978] [202303080155356140690] [960258:140612159231808] - [resource_manager.register_engine] [line:64]: update federation engine STANDALONE fate_on_standalone registration information
[INFO] [2023-03-08 01:55:52,984] [202303080155356140690] [960258:140612159231808] - [resource_manager.register_engine] [line:64]: update federation engine EGGROLL fate_on_eggroll registration information
[INFO] [2023-03-08 01:55:52,990] [202303080155356140690] [960258:140612159231808] - [resource_manager.register_engine] [line:64]: update federation engine RABBITMQ fate_on_spark registration information
[INFO] [2023-03-08 01:55:52,996] [202303080155356140690] [960258:140612159231808] - [resource_manager.register_engine] [line:64]: update federation engine PULSAR fate_on_spark registration information
[INFO] [2023-03-08 01:55:53,001] [202303080155356140690] [960258:140612159231808] - [resource_manager.register_engine] [line:64]: update computing engine STANDALONE fate_on_standalone registration information
[INFO] [2023-03-08 01:55:53,008] [202303080155356140690] [960258:140612159231808] - [resource_manager.register_engine] [line:64]: update computing engine EGGROLL fate_on_eggroll registration information
[INFO] [2023-03-08 01:55:53,013] [202303080155356140690] [960258:140612159231808] - [resource_manager.register_engine] [line:64]: update computing engine SPARK fate_on_spark registration information
[INFO] [2023-03-08 01:55:53,018] [202303080155356140690] [960258:140612159231808] - [resource_manager.register_engine] [line:64]: update computing engine LINKIS_SPARK fate_on_spark registration information
[INFO] [2023-03-08 01:55:53,023] [202303080155356140690] [960258:140612159231808] - [resource_manager.register_engine] [line:64]: update storage engine STANDALONE fate_on_standalone registration information
[INFO] [2023-03-08 01:55:53,030] [202303080155356140690] [960258:140612159231808] - [resource_manager.register_engine] [line:64]: update storage engine EGGROLL fate_on_eggroll registration information
[INFO] [2023-03-08 01:55:53,035] [202303080155356140690] [960258:140612159231808] - [resource_manager.register_engine] [line:64]: update storage engine HDFS fate_on_spark registration information
[INFO] [2023-03-08 01:55:53,040] [202303080155356140690] [960258:140612159231808] - [resource_manager.register_engine] [line:64]: update storage engine HIVE fate_on_spark registration information
[INFO] [2023-03-08 01:55:53,045] [202303080155356140690] [960258:140612159231808] - [resource_manager.register_engine] [line:64]: update storage engine LINKIS_HIVE fate_on_spark registration information
[INFO] [2023-03-08 01:55:53,046] [202303080155356140690] [960258:140612159231808] - [task_executor._run_] [line:56]: run nn_0 202303080155356140690_nn_0 0 on guest 9999 task
[INFO] [2023-03-08 01:55:53,269] [202303080155356140690] [960258:140612159231808] - [task_executor._run_] [line:82]: user name:
[INFO] [2023-03-08 01:55:53,270] [202303080155356140690] [960258:140612159231808] - [task_base_worker.report_task_info_to_driver] [line:113]: report TaskExecutor 202303080155356140690_nn_0 0 guest 9999 to driver:
{'job_id': '202303080155356140690', 'component_name': 'nn_0', 'task_id': '202303080155356140690_nn_0', 'task_version': '0', 'role': 'guest', 'party_id': '9999', 'run_ip': '10.244.0.20', 'run_pid': 960258, 'run_port': '9380', 'party_status': 'running'}
[INFO] [2023-03-08 01:55:53,270] [202303080155356140690] [960258:140612159231808] - [control_client.report_task] [line:39]: request update job 202303080155356140690 task 202303080155356140690_nn_0 0 on guest 9999
[INFO] [2023-03-08 01:55:53,302] [202303080155356140690] [960258:140612159231808] - [task_executor._run_] [line:124]: previous_components_parameters:
{}
[INFO] [2023-03-08 01:55:56,356] [202303080155356140690] [960258:140612159231808] - [task_executor._run_] [line:131]: component parameters on party:
{
    "dsl_version": 2,
    "initiator": {
        "role": "guest",
        "party_id": 9999
    },
    "role": {
        "guest": [
            9999
        ],
        "host": [
            10000
        ],
        "arbiter": [
            10000
        ]
    },
    "job_parameters": {
        "common": {
            "job_type": "train",
            "inheritance_info": {},
            "computing_engine": "SPARK",
            "engines_address": {},
            "federated_mode": "MULTIPLE",
            "task_parallelism": 1,
            "computing_partitions": 4,
            "federated_status_collect_type": "PUSH",
            "model_id": "arbiter-10000#guest-9999#host-10000#model",
            "model_version": "202303080155356140690",
            "auto_retries": 5,
            "auto_retry_delay": 60,
            "eggroll_run": {},
            "spark_run": {},
            "rabbitmq_run": {},
            "pulsar_run": {},
            "adaptation_parameters": {
                "task_nodes": 2,
                "task_cores_per_node": 2,
                "task_memory_per_node": 0,
                "request_task_cores": 4,
                "if_initiator_baseline": true
            }
        }
    },
    "local": {
        "role": "guest",
        "party_id": 9999
    },
    "module": "HomoNN",
    "CodePath": "HomoNNClient",
    "ComponentParam": {
        "trainer": {
            "trainer_name": "fedavg_trainer",
            "param": {
                "epochs": 10,
                "batch_size": 1024,
                "data_loader_worker": 8
            }
        },
        "dataset": {
            "dataset_name": "image",
            "param": {}
        },
        "torch_seed": 100,
        "nn_define": {
            "0-0": {
                "module_name": "resnet",
                "class_name": "Resnet",
                "param": {},
                "layer": "CustModel",
                "initializer": {}
            }
        },
        "loss": {
            "weight": null,
            "size_average": null,
            "ignore_index": -100,
            "reduce": null,
            "reduction": "mean",
            "label_smoothing": 0.0,
            "loss_fn": "CrossEntropyLoss"
        },
        "optimizer": {
            "lr": 0.001,
            "betas": [
                0.9,
                0.999
            ],
            "eps": 1e-08,
            "weight_decay": 0.001,
            "amsgrad": false,
            "optimizer": "Adam",
            "config_type": "pytorch"
        },
        "_name": "HomoNN#nn_0",
        "_feeded_deprecated_params": [],
        "_user_feeded_params": [
            "dataset.param",
            "loss",
            "optimizer",
            "dataset",
            "nn_define",
            "dataset.dataset_name",
            "trainer.trainer_name",
            "torch_seed",
            "trainer",
            "trainer.param"
        ],
        "_is_raw_conf": false
    },
    "ComponentParameterSource": "nn_0"
}
[INFO] [2023-03-08 01:55:56,394] [202303080155356140690] [960258:140612159231808] - [_session.__init__] [line:54]: using engines: {'computing': 'SPARK', 'federation': 'PULSAR', 'storage': 'HDFS', 'federated_mode': 'MULTIPLE'}
[INFO] [2023-03-08 01:55:56,394] [202303080155356140690] [960258:140612159231808] - [_session.__init__] [line:70]: create manager session 202303080155356140690_nn_0_0_guest_9999
[INFO] [2023-03-08 01:55:56,395] [202303080155356140690] [960258:140612159231808] - [db_models.init_database_tables] [line:85]: start create table SessionRecord
[INFO] [2023-03-08 01:55:56,397] [202303080155356140690] [960258:140612159231808] - [db_models.init_database_tables] [line:88]: create table success: SessionRecord
[INFO] [2023-03-08 01:55:56,397] [202303080155356140690] [960258:140612159231808] - [db_models.init_database_tables] [line:85]: start create table StorageConnectorModel
[INFO] [2023-03-08 01:55:56,398] [202303080155356140690] [960258:140612159231808] - [db_models.init_database_tables] [line:88]: create table success: StorageConnectorModel
[INFO] [2023-03-08 01:55:56,398] [202303080155356140690] [960258:140612159231808] - [db_models.init_database_tables] [line:85]: start create table StorageTableMetaModel
[INFO] [2023-03-08 01:55:56,399] [202303080155356140690] [960258:140612159231808] - [db_models.init_database_tables] [line:88]: create table success: StorageTableMetaModel
[INFO] [2023-03-08 01:55:56,399] [202303080155356140690] [960258:140612159231808] - [_session.save_record] [line:343]: try to save session record for manager 202303080155356140690_nn_0_0_guest_9999, computing SPARK 202303080155356140690_nn_0_0_guest_9999
[INFO] [2023-03-08 01:55:56,403] [202303080155356140690] [960258:140612159231808] - [_session.save_record] [line:363]: save session record for manager 202303080155356140690_nn_0_0_guest_9999, computing SPARK 202303080155356140690_nn_0_0_guest_9999 successfully
[INFO] [2023-03-08 01:55:56,842] [202303080155356140690] [960258:140612159231808] - [_session.save_record] [line:343]: try to save session record for manager 202303080155356140690_nn_0_0_guest_9999, federation PULSAR 202303080155356140690_nn_0_0
[INFO] [2023-03-08 01:55:56,848] [202303080155356140690] [960258:140612159231808] - [_session.save_record] [line:363]: save session record for manager 202303080155356140690_nn_0_0_guest_9999, federation PULSAR 202303080155356140690_nn_0_0 successfully
[INFO] [2023-03-08 01:55:57,231] [202303080155356140690] [960258:140612159231808] - [task_executor._run_] [line:157]: run nn_0 202303080155356140690_nn_0 0 on guest 9999 task
[INFO] [2023-03-08 01:55:57,232] [202303080155356140690] [960258:140612159231808] - [task_executor._run_] [line:158]: component parameters on party:
{
    "dsl_version": 2,
    "initiator": {
        "role": "guest",
        "party_id": 9999
    },
    "role": {
        "guest": [
            9999
        ],
        "host": [
            10000
        ],
        "arbiter": [
            10000
        ]
    },
    "job_parameters": {
        "job_type": "train",
        "inheritance_info": {},
        "computing_engine": "SPARK",
        "federation_engine": "PULSAR",
        "storage_engine": "HDFS",
        "engines_address": {
            "computing": {
                "home": "/data/projects/spark-3.1.3-bin-hadoop3.2/",
                "cores_per_node": 20,
                "nodes": 2
            },
            "federation": {
                "host": "pulsar",
                "port": 6650,
                "mng_port": 8080,
                "topic_ttl": 3,
                "cluster": "standalone",
                "tenant": "fl-tenant",
                "route_table": "conf/pulsar_route_table/pulsar_route_table.yaml",
                "mode": "replication",
                "max_message_size": 1048576
            },
            "storage": {
                "name_node": "hdfs://namenode:9000",
                "path_prefix": null
            }
        },
        "federated_mode": "MULTIPLE",
        "task_parallelism": 1,
        "computing_partitions": 4,
        "federated_status_collect_type": "PUSH",
        "model_id": "arbiter-10000#guest-9999#host-10000#model",
        "model_version": "202303080155356140690",
        "auto_retries": 5,
        "auto_retry_delay": 60,
        "eggroll_run": {},
        "spark_run": {
            "num-executors": 2,
            "executor-cores": 2
        },
        "rabbitmq_run": {},
        "pulsar_run": {},
        "adaptation_parameters": {
            "task_nodes": 2,
            "task_cores_per_node": 2,
            "task_memory_per_node": 0,
            "request_task_cores": 4,
            "if_initiator_baseline": false
        }
    },
    "local": {
        "role": "guest",
        "party_id": 9999
    },
    "module": "HomoNN",
    "CodePath": "HomoNNClient",
    "ComponentParam": {
        "trainer": {
            "trainer_name": "fedavg_trainer",
            "param": {
                "epochs": 10,
                "batch_size": 1024,
                "data_loader_worker": 8
            }
        },
        "dataset": {
            "dataset_name": "image",
            "param": {}
        },
        "torch_seed": 100,
        "nn_define": {
            "0-0": {
                "module_name": "resnet",
                "class_name": "Resnet",
                "param": {},
                "layer": "CustModel",
                "initializer": {}
            }
        },
        "loss": {
            "weight": null,
            "size_average": null,
            "ignore_index": -100,
            "reduce": null,
            "reduction": "mean",
            "label_smoothing": 0.0,
            "loss_fn": "CrossEntropyLoss"
        },
        "optimizer": {
            "lr": 0.001,
            "betas": [
                0.9,
                0.999
            ],
            "eps": 1e-08,
            "weight_decay": 0.001,
            "amsgrad": false,
            "optimizer": "Adam",
            "config_type": "pytorch"
        },
        "_name": "HomoNN#nn_0",
        "_feeded_deprecated_params": [],
        "_user_feeded_params": [
            "dataset.param",
            "loss",
            "optimizer",
            "dataset",
            "nn_define",
            "dataset.dataset_name",
            "trainer.trainer_name",
            "torch_seed",
            "trainer",
            "trainer.param"
        ],
        "_is_raw_conf": false
    },
    "ComponentParameterSource": "nn_0"
}
[INFO] [2023-03-08 01:55:57,232] [202303080155356140690] [960258:140612159231808] - [task_executor._run_] [line:159]: task input dsl {'data': {'train_data': ['reader_0.data'], 'validate_data': ['reader_1.data']}}
[INFO] [2023-03-08 01:55:57,232] [202303080155356140690] [960258:140612159231808] - [tracker_client.get_output_data_info] [line:258]: Request read job 202303080155356140690 task 202303080155356140690_nn_0 0 on guest 9999 data data info
[INFO] [2023-03-08 01:55:57,240] [202303080155356140690] [960258:140612159231808] - [task_executor.get_task_run_args] [line:367]: load computing table use 4
[INFO] [2023-03-08 01:55:57,240] [202303080155356140690] [960258:140612159231808] - [tracker_client.get_output_data_info] [line:258]: Request read job 202303080155356140690 task 202303080155356140690_nn_0 0 on guest 9999 data data info
[INFO] [2023-03-08 01:55:57,248] [202303080155356140690] [960258:140612159231808] - [task_executor.get_task_run_args] [line:367]: load computing table use 4
[INFO] [2023-03-08 01:55:57,248] [202303080155356140690] [960258:140612159231808] - [task_executor._run_] [line:208]: profile logging is disabled
[INFO] [2023-03-08 01:55:57,250] [202303080155356140690] [960258:140612159231808] - [tracker_client.set_metric_meta_common] [line:103]: Request save job 202303080155356140690 task 202303080155356140690_nn_0 0 on guest 9999 metric train loss meta
[INFO] [2023-03-08 01:55:57,360] [202303080155356140690] [960258:140612159231808] - [client.init] [line:133]: trainer class is <class 'federatedml.nn.homo.trainer.fedavg_trainer.FedAVGTrainer'>
[INFO] [2023-03-08 01:55:57,522] [202303080155356140690] [960258:140612159231808] - [client.init] [line:184]: model structure is Resnet(
  (resnet): ResNet(
    (conv1): Conv2d(3, 64, kernel_size=(7, 7), stride=(2, 2), padding=(3, 3), bias=False)
    (bn1): BatchNorm2d(64, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
    (relu): ReLU(inplace=True)
    (maxpool): MaxPool2d(kernel_size=3, stride=2, padding=1, dilation=1, ceil_mode=False)
    (layer1): Sequential(
      (0): BasicBlock(
        (conv1): Conv2d(64, 64, kernel_size=(3, 3), stride=(1, 1), padding=(1, 1), bias=False)
        (bn1): BatchNorm2d(64, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
        (relu): ReLU(inplace=True)
        (conv2): Conv2d(64, 64, kernel_size=(3, 3), stride=(1, 1), padding=(1, 1), bias=False)
        (bn2): BatchNorm2d(64, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
      )
      (1): BasicBlock(
        (conv1): Conv2d(64, 64, kernel_size=(3, 3), stride=(1, 1), padding=(1, 1), bias=False)
        (bn1): BatchNorm2d(64, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
        (relu): ReLU(inplace=True)
        (conv2): Conv2d(64, 64, kernel_size=(3, 3), stride=(1, 1), padding=(1, 1), bias=False)
        (bn2): BatchNorm2d(64, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
      )
    )
    (layer2): Sequential(
      (0): BasicBlock(
        (conv1): Conv2d(64, 128, kernel_size=(3, 3), stride=(2, 2), padding=(1, 1), bias=False)
        (bn1): BatchNorm2d(128, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
        (relu): ReLU(inplace=True)
        (conv2): Conv2d(128, 128, kernel_size=(3, 3), stride=(1, 1), padding=(1, 1), bias=False)
        (bn2): BatchNorm2d(128, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
        (downsample): Sequential(
          (0): Conv2d(64, 128, kernel_size=(1, 1), stride=(2, 2), bias=False)
          (1): BatchNorm2d(128, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
        )
      )
      (1): BasicBlock(
        (conv1): Conv2d(128, 128, kernel_size=(3, 3), stride=(1, 1), padding=(1, 1), bias=False)
        (bn1): BatchNorm2d(128, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
        (relu): ReLU(inplace=True)
        (conv2): Conv2d(128, 128, kernel_size=(3, 3), stride=(1, 1), padding=(1, 1), bias=False)
        (bn2): BatchNorm2d(128, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
      )
    )
    (layer3): Sequential(
      (0): BasicBlock(
        (conv1): Conv2d(128, 256, kernel_size=(3, 3), stride=(2, 2), padding=(1, 1), bias=False)
        (bn1): BatchNorm2d(256, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
        (relu): ReLU(inplace=True)
        (conv2): Conv2d(256, 256, kernel_size=(3, 3), stride=(1, 1), padding=(1, 1), bias=False)
        (bn2): BatchNorm2d(256, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
        (downsample): Sequential(
          (0): Conv2d(128, 256, kernel_size=(1, 1), stride=(2, 2), bias=False)
          (1): BatchNorm2d(256, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
        )
      )
      (1): BasicBlock(
        (conv1): Conv2d(256, 256, kernel_size=(3, 3), stride=(1, 1), padding=(1, 1), bias=False)
        (bn1): BatchNorm2d(256, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
        (relu): ReLU(inplace=True)
        (conv2): Conv2d(256, 256, kernel_size=(3, 3), stride=(1, 1), padding=(1, 1), bias=False)
        (bn2): BatchNorm2d(256, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
      )
    )
    (layer4): Sequential(
      (0): BasicBlock(
        (conv1): Conv2d(256, 512, kernel_size=(3, 3), stride=(2, 2), padding=(1, 1), bias=False)
        (bn1): BatchNorm2d(512, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
        (relu): ReLU(inplace=True)
        (conv2): Conv2d(512, 512, kernel_size=(3, 3), stride=(1, 1), padding=(1, 1), bias=False)
        (bn2): BatchNorm2d(512, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
        (downsample): Sequential(
          (0): Conv2d(256, 512, kernel_size=(1, 1), stride=(2, 2), bias=False)
          (1): BatchNorm2d(512, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
        )
      )
      (1): BasicBlock(
        (conv1): Conv2d(512, 512, kernel_size=(3, 3), stride=(1, 1), padding=(1, 1), bias=False)
        (bn1): BatchNorm2d(512, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
        (relu): ReLU(inplace=True)
        (conv2): Conv2d(512, 512, kernel_size=(3, 3), stride=(1, 1), padding=(1, 1), bias=False)
        (bn2): BatchNorm2d(512, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
      )
    )
    (avgpool): AdaptiveAvgPool2d(output_size=(1, 1))
    (fc): Linear(in_features=512, out_features=1000, bias=True)
  )
  (classifier): Linear(in_features=1000, out_features=10, bias=True)
  (softmax): Softmax(dim=1)
)
[INFO] [2023-03-08 01:55:57,523] [202303080155356140690] [960258:140612159231808] - [client.init] [line:194]: optimizer is Adam (
Parameter Group 0
    amsgrad: False
    betas: [0.9, 0.999]
    capturable: False
    differentiable: False
    eps: 1e-08
    foreach: None
    fused: False
    lr: 0.001
    maximize: False
    weight_decay: 0.001
)
[INFO] [2023-03-08 01:55:57,523] [202303080155356140690] [960258:140612159231808] - [client.init] [line:202]: loss function is CrossEntropyLoss()
[INFO] [2023-03-08 01:55:57,541] [202303080155356140690] [960258:140612159231808] - [client.fit] [line:272]: train dataset instance is Dataset ImageFolder
    Number of datapoints: 5000
    Root location: /data/projects/fate/examples/data/toy_cifar10/train
    StandardTransform
Transform: Compose(
               ToTensor()
           )
[INFO] [2023-03-08 01:55:57,541] [202303080155356140690] [960258:140612159231808] - [client.fit] [line:283]: validate dataset instance is Dataset ImageFolder
    Number of datapoints: 5000
    Root location: /data/projects/fate/examples/data/toy_cifar10/train
    StandardTransform
Transform: Compose(
               ToTensor()
           )
[INFO] [2023-03-08 01:55:57,542] [202303080155356140690] [960258:140612159231808] - [blocks.create_cipher] [line:242]: synchronizing uuid
[INFO] [2023-03-08 01:55:57,816] [202303080155356140690] [960258:140612159231808] - [blocks.create_cipher] [line:244]: got local uuid
[INFO] [2023-03-08 01:55:57,816] [202303080155356140690] [960258:140612159231808] - [blocks.create_cipher] [line:246]: Diffie-Hellman keys exchanging
[WARNING] [2023-03-08 01:55:57,922] [202303080155356140690] [960258:140612159231808] - [_federation._receive_obj] [line:499]: [federation._receive_obj] require hash.07899a730252f12ede87.fedavg__pubkey.default^<dtype>, got hash.9df77bd5df7830d18b2d.fedavg__uuid.default^<dtype>
[WARNING] [2023-03-08 01:55:58,164] [202303080155356140690] [960258:140612159231808] - [_federation._receive_obj] [line:499]: [federation._receive_obj] require hash.2cce3f65445e2c0c7469.fedavg__p_power_r_bc.default^<dtype>, got hash.07899a730252f12ede87.fedavg__pubkey.default^<dtype>
[INFO] [2023-03-08 01:55:58,287] [202303080155356140690] [960258:140612159231808] - [blocks.create_cipher] [line:248]: got Diffie-Hellman exchanged keys
[INFO] [2023-03-08 01:55:58,287] [202303080155356140690] [960258:140612159231808] - [secure_aggregator.__init__] [line:35]: initialize secure aggregator done
[WARNING] [2023-03-08 01:55:58,465] [202303080155356140690] [960258:140612159231808] - [_federation._receive_obj] [line:499]: [federation._receive_obj] require hash.7a6ac6ae11f0f65053b4.fedavg_server_to_client.default.agg_weight^<dtype>, got hash.2cce3f65445e2c0c7469.fedavg__p_power_r_bc.default^<dtype>
[INFO] [2023-03-08 01:55:58,644] [202303080155356140690] [960258:140612159231808] - [fedavg_trainer.train] [line:173]: epoch is 0
[INFO] [2023-03-08 01:56:09,356] [202303080155356140690] [960258:140612159231808] - [tracker_client.log_metric_data_common] [line:69]: Request save job 202303080155356140690 task 202303080155356140690_nn_0 0 on guest 9999 metric train loss data
[INFO] [2023-03-08 01:56:09,366] [202303080155356140690] [960258:140612159231808] - [fedavg_trainer.train] [line:213]: epoch loss is 2.551649267578125
[WARNING] [2023-03-08 01:56:45,271] [202303080155356140690] [960258:140612159231808] - [_federation._receive_obj] [line:499]: [federation._receive_obj] require hash.7a6ac6ae11f0f65053b4.fedavg_server_to_client.default.agg_model_0^<dtype>, got hash.7a6ac6ae11f0f65053b4.fedavg_server_to_client.default.agg_weight^<dtype>
